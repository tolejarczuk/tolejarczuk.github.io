<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>RabbitMQ Integration for Asynchronous Communication and Message Queuing | My Digital Garden</title>
<meta name=keywords content><meta name=description content="RabbitMQ Integration for Asynchronous Communication and Message Queuing 1. Summary This document outlines the potential benefits and implementation considerations of integrating RabbitMQ, a robust and scalable message broker, into the MATLAB Production Server API wrapper project. RabbitMQ would serve as a message queue to facilitate asynchronous communication between the API wrapper and the MATLAB server, enhancing system performance, reliability, and scalability.
2. Introduction 2.1 Background In the current system architecture, the C# API wrapper communicates directly with the MATLAB server to submit calculations and retrieve results."><meta name=author content="Tomasz Olejarczuk"><link rel=canonical href=https://tolejarczuk.github.io/posts/school/semester-4/teamium-project/rabbitmq-integration-for-asynchronous-communication-and-message-queuing/><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://tolejarczuk.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://tolejarczuk.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://tolejarczuk.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://tolejarczuk.github.io/apple-touch-icon.png><link rel=mask-icon href=https://tolejarczuk.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://tolejarczuk.github.io/posts/school/semester-4/teamium-project/rabbitmq-integration-for-asynchronous-communication-and-message-queuing/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="RabbitMQ Integration for Asynchronous Communication and Message Queuing"><meta property="og:description" content="RabbitMQ Integration for Asynchronous Communication and Message Queuing 1. Summary This document outlines the potential benefits and implementation considerations of integrating RabbitMQ, a robust and scalable message broker, into the MATLAB Production Server API wrapper project. RabbitMQ would serve as a message queue to facilitate asynchronous communication between the API wrapper and the MATLAB server, enhancing system performance, reliability, and scalability.
2. Introduction 2.1 Background In the current system architecture, the C# API wrapper communicates directly with the MATLAB server to submit calculations and retrieve results."><meta property="og:type" content="article"><meta property="og:url" content="https://tolejarczuk.github.io/posts/school/semester-4/teamium-project/rabbitmq-integration-for-asynchronous-communication-and-message-queuing/"><meta property="article:section" content="posts"><meta name=twitter:card content="summary"><meta name=twitter:title content="RabbitMQ Integration for Asynchronous Communication and Message Queuing"><meta name=twitter:description content="RabbitMQ Integration for Asynchronous Communication and Message Queuing 1. Summary This document outlines the potential benefits and implementation considerations of integrating RabbitMQ, a robust and scalable message broker, into the MATLAB Production Server API wrapper project. RabbitMQ would serve as a message queue to facilitate asynchronous communication between the API wrapper and the MATLAB server, enhancing system performance, reliability, and scalability.
2. Introduction 2.1 Background In the current system architecture, the C# API wrapper communicates directly with the MATLAB server to submit calculations and retrieve results."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://tolejarczuk.github.io/posts/"},{"@type":"ListItem","position":2,"name":"RabbitMQ Integration for Asynchronous Communication and Message Queuing","item":"https://tolejarczuk.github.io/posts/school/semester-4/teamium-project/rabbitmq-integration-for-asynchronous-communication-and-message-queuing/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"RabbitMQ Integration for Asynchronous Communication and Message Queuing","name":"RabbitMQ Integration for Asynchronous Communication and Message Queuing","description":"RabbitMQ Integration for Asynchronous Communication and Message Queuing 1. Summary This document outlines the potential benefits and implementation considerations of integrating RabbitMQ, a robust and scalable message broker, into the MATLAB Production Server API wrapper project. RabbitMQ would serve as a message queue to facilitate asynchronous communication between the API wrapper and the MATLAB server, enhancing system performance, reliability, and scalability.\n2. Introduction 2.1 Background In the current system architecture, the C# API wrapper communicates directly with the MATLAB server to submit calculations and retrieve results.","keywords":[],"articleBody":"RabbitMQ Integration for Asynchronous Communication and Message Queuing 1. Summary This document outlines the potential benefits and implementation considerations of integrating RabbitMQ, a robust and scalable message broker, into the MATLAB Production Server API wrapper project. RabbitMQ would serve as a message queue to facilitate asynchronous communication between the API wrapper and the MATLAB server, enhancing system performance, reliability, and scalability.\n2. Introduction 2.1 Background In the current system architecture, the C# API wrapper communicates directly with the MATLAB server to submit calculations and retrieve results. While this approach works well for moderate workloads, it can become a bottleneck as the number of requests increases.\nIntroducing a message queue like RabbitMQ can address this limitation by decoupling the API wrapper and the MATLAB server. The API wrapper would send messages (representing calculation requests) to the queue, and the MATLAB server would consume messages from the queue, process them, and send results back to the API wrapper (potentially through another queue).\n2.2 Objectives Implement asynchronous communication between the API wrapper and MATLAB server using RabbitMQ. Improve system scalability and responsiveness under high load. Enhance fault tolerance by buffering messages in the queue in case the MATLAB server is temporarily unavailable. Provide a foundation for future expansion of the system with additional message-based communication patterns. 3. Methodology 3.1 Architecture 3.1.1 General Overview flowchart LR App([External Application]) subgraph \"Matlab Calculation Module\" Controller(C# Controller) RabbitMQ(RabbitMQ) Matlab(MATLAB Production Server) subgraph \"Data Storage (Docker)\" Database[(Postgres Database)] MinIO[(MinIO Object Storage)] end end App --\u003e|\"HTTP Request (Query)\"| Controller Controller --\u003e|\"Publish Message (Query)\"| RabbitMQ RabbitMQ --\u003e|\"Deliver Message (Query)\"| Matlab Matlab --\u003e|\"Publish Message (Results)\"| RabbitMQ RabbitMQ --\u003e|\"Deliver Message (Results)\"| Controller Controller --\u003e|\"HTTP Response (Data, Image)\"| App Controller \u003c--\u003e|\"Store/Retrieve (Request, Response, Logs)\"| Database Controller --\u003e|\"Store/Retrieve Generated Image\"| MinIO 3.1.2 Detailed Overview flowchart LR subgraph \"Matlab Calculation Module\" Controller(C# Controller) subgraph RabbitMQ ReqQ[calculation_requests queue] ResQ[calculation_results queue] end Matlab(MATLAB Production Server) end Controller --\u003e|\"Publish Message (Query)\"| ReqQ ReqQ --\u003e|\"Deliver Message (Query)\"| Matlab Matlab --\u003e|\"Publish Message (Results)\"| ResQ ResQ --\u003e|\"Deliver Message (Results)\"| Controller 3.2 Technologies RabbitMQ: Open-source message broker. AMQP 0-9-1: Messaging protocol used by RabbitMQ. C#: Programming language used for the API wrapperâ€™s interaction with RabbitMQ. RabbitMQ .NET Client Library: Library for connecting to and interacting with RabbitMQ from .NET applications. Docker: Containerization platform for deploying RabbitMQ. 3.3 Configuration 3.3.1 Deployment and Orchestration RabbitMQ is deployed as a container within the same Docker Compose environment as the other components of your system. The docker-compose.yml file handles the orchestration, ensuring that RabbitMQ starts up alongside the MATLAB server, API wrapper, database, and MinIO.\nThe relevant section in docker-compose.yml for RabbitMQ is:\nrabbitmq: image: rabbitmq:3.13-management hostname: rabbitmq ports: - \"5672:5672\" # AMQP protocol port - \"15672:15672\" # Management UI port environment: - RABBITMQ_DEFAULT_USER=$RABBITMQ_USER - RABBITMQ_DEFAULT_PASS=$RABBITMQ_PASS networks: - matlab-network 3.3.2 Environment Variables (.env) The .env file stores sensitive configuration details, including the RabbitMQ credentials:\nRABBITMQ_USER: Specifies the username for accessing the RabbitMQ server (default user is set to teamium). RABBITMQ_PASS: Sets the password for the RabbitMQ user (default password is set to teamium666). 3.3.3 Key Configuration Details Image: The rabbitmq:3.13-management image is used, which includes the RabbitMQ server and a management plugin for easy monitoring and administration. Hostname: The hostname is set to rabbitmq, making it easier to reference within the Docker network. Ports: 5672: The standard AMQP port for client connections. 15672: The port for accessing the RabbitMQ management interface. Environment Variables: The RABBITMQ_DEFAULT_USER and RABBITMQ_DEFAULT_PASS variables are used to set the default credentials for the RabbitMQ server. Networking: The matlab-network bridge network allows the RabbitMQ container to communicate with other containers in the environment. 3.3.4 Management Interface The RabbitMQ management interface, accessible at http://localhost:15672, provides a web-based UI for:\nMonitoring queues, exchanges, and connections. Managing users and permissions. Viewing message rates and other statistics. 3.3.5 Security Considerations Credentials: The RabbitMQ credentials (RABBITMQ_USER and RABBITMQ_PASS) should be kept confidential, as they grant administrative access to the message broker. Network Security: Consider restricting access to the RabbitMQ management interface and AMQP port to trusted networks or IP addresses. TLS: Enable Transport Layer Security (TLS) to encrypt communication between the API wrapper, MATLAB server, and RabbitMQ. Last Modified: =dateformat(this.file.mtime, \"DDDD, HH:mm\")\nTags: =this.file.tags\nList FROM #kubernetes ","wordCount":"689","inLanguage":"en","datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","author":{"@type":"Person","name":"Tomasz Olejarczuk"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://tolejarczuk.github.io/posts/school/semester-4/teamium-project/rabbitmq-integration-for-asynchronous-communication-and-message-queuing/"},"publisher":{"@type":"Organization","name":"My Digital Garden","logo":{"@type":"ImageObject","url":"https://tolejarczuk.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://tolejarczuk.github.io/ accesskey=h title="My Digital Garden (Alt + H)">My Digital Garden</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">RabbitMQ Integration for Asynchronous Communication and Message Queuing</h1><div class=post-meta>Tomasz Olejarczuk</div></header><div class=post-content><h1 id=rabbitmq-integration-for-asynchronous-communication-and-message-queuing>RabbitMQ Integration for Asynchronous Communication and Message Queuing<a hidden class=anchor aria-hidden=true href=#rabbitmq-integration-for-asynchronous-communication-and-message-queuing>#</a></h1><h1 id=1-summary>1. Summary<a hidden class=anchor aria-hidden=true href=#1-summary>#</a></h1><p>This document outlines the potential benefits and implementation considerations of integrating RabbitMQ, a robust and scalable message broker, into the MATLAB Production Server API wrapper project. RabbitMQ would serve as a message queue to facilitate asynchronous communication between the API wrapper and the MATLAB server, enhancing system performance, reliability, and scalability.</p><h1 id=2-introduction>2. Introduction<a hidden class=anchor aria-hidden=true href=#2-introduction>#</a></h1><h2 id=21-background>2.1 Background<a hidden class=anchor aria-hidden=true href=#21-background>#</a></h2><p>In the current system architecture, the C# API wrapper communicates directly with the MATLAB server to submit calculations and retrieve results. While this approach works well for moderate workloads, it can become a bottleneck as the number of requests increases.</p><p>Introducing a message queue like RabbitMQ can address this limitation by decoupling the API wrapper and the MATLAB server. The API wrapper would send messages (representing calculation requests) to the queue, and the MATLAB server would consume messages from the queue, process them, and send results back to the API wrapper (potentially through another queue).</p><h2 id=22-objectives>2.2 Objectives<a hidden class=anchor aria-hidden=true href=#22-objectives>#</a></h2><ul><li>Implement asynchronous communication between the API wrapper and MATLAB server using RabbitMQ.</li><li>Improve system scalability and responsiveness under high load.</li><li>Enhance fault tolerance by buffering messages in the queue in case the MATLAB server is temporarily unavailable.</li><li>Provide a foundation for future expansion of the system with additional message-based communication patterns.</li></ul><h1 id=3-methodology>3. Methodology<a hidden class=anchor aria-hidden=true href=#3-methodology>#</a></h1><h2 id=31-architecture>3.1 Architecture<a hidden class=anchor aria-hidden=true href=#31-architecture>#</a></h2><h3 id=311-general-overview>3.1.1 General Overview<a hidden class=anchor aria-hidden=true href=#311-general-overview>#</a></h3><pre tabindex=0><code class=language-mermaid data-lang=mermaid>flowchart LR

App([External Application])

subgraph &#34;Matlab Calculation Module&#34;
Â Â Controller(C# Controller)
  RabbitMQ(RabbitMQ)
Â Â Matlab(MATLAB Production Server)
Â Â subgraph &#34;Data Storage (Docker)&#34;
Â Â   Database[(Postgres Database)]
Â Â   MinIO[(MinIO Object Storage)]
Â Â end
end

App --&gt;|&#34;HTTP Request (Query)&#34;| Controller
Controller --&gt;|&#34;Publish Message (Query)&#34;| RabbitMQ
RabbitMQ --&gt;|&#34;Deliver Message (Query)&#34;| Matlab
Matlab --&gt;|&#34;Publish Message (Results)&#34;| RabbitMQ
RabbitMQ --&gt;|&#34;Deliver Message (Results)&#34;| Controller
Controller --&gt;|&#34;HTTP Response (Data, Image)&#34;| App
Controller &lt;--&gt;|&#34;Store/Retrieve (Request, Response, Logs)&#34;| Database
Controller --&gt;|&#34;Store/Retrieve Generated Image&#34;| MinIO
</code></pre><p><img src=/posts/School/Semester%204/Teamium%20project/Bins/Images/APIgeneralViewRabbit.png></p><h3 id=312-detailed-overview>3.1.2 Detailed Overview<a hidden class=anchor aria-hidden=true href=#312-detailed-overview>#</a></h3><pre tabindex=0><code class=language-mermaid data-lang=mermaid>flowchart LR

subgraph &#34;Matlab Calculation Module&#34;
Â Â Controller(C# Controller)
Â Â subgraph RabbitMQ
Â  Â  Â  ReqQ[calculation_requests queue]
Â  Â  Â  ResQ[calculation_results queue]
Â  Â end
Â Â Matlab(MATLAB Production Server)
end
  
Controller --&gt;|&#34;Publish Message (Query)&#34;| ReqQ
ReqQ --&gt;|&#34;Deliver Message (Query)&#34;| Matlab
Matlab --&gt;|&#34;Publish Message (Results)&#34;| ResQ
ResQ --&gt;|&#34;Deliver Message (Results)&#34;| Controller
</code></pre><p><img src=/posts/School/Semester%204/Teamium%20project/Bins/Images/rabbit.png></p><h2 id=32-technologies>3.2 Technologies<a hidden class=anchor aria-hidden=true href=#32-technologies>#</a></h2><ul><li><strong>RabbitMQ:</strong> Open-source message broker.</li><li><strong>AMQP 0-9-1:</strong> Messaging protocol used by RabbitMQ.</li><li><strong>C#:</strong> Programming language used for the API wrapper&rsquo;s interaction with RabbitMQ.</li><li><strong>RabbitMQ .NET Client Library:</strong> Library for connecting to and interacting with RabbitMQ from .NET applications.</li><li><strong>Docker:</strong> Containerization platform for deploying RabbitMQ.</li></ul><h2 id=33-configuration>3.3 Configuration<a hidden class=anchor aria-hidden=true href=#33-configuration>#</a></h2><h3 id=331-deployment-and-orchestration>3.3.1 Deployment and Orchestration<a hidden class=anchor aria-hidden=true href=#331-deployment-and-orchestration>#</a></h3><p>RabbitMQ is deployed as a container within the same Docker Compose environment as the other components of your system. The <code>docker-compose.yml</code> file handles the orchestration, ensuring that RabbitMQ starts up alongside the MATLAB server, API wrapper, database, and MinIO.</p><p>The relevant section in <code>docker-compose.yml</code> for RabbitMQ is:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>rabbitmq</span>:
</span></span><span style=display:flex><span><span style=color:#f92672>image</span>: <span style=color:#ae81ff>rabbitmq:3.13-management</span>
</span></span><span style=display:flex><span><span style=color:#f92672>hostname</span>: <span style=color:#ae81ff>rabbitmq</span>
</span></span><span style=display:flex><span><span style=color:#f92672>ports</span>:
</span></span><span style=display:flex><span>    - <span style=color:#e6db74>&#34;5672:5672&#34;</span>  <span style=color:#75715e># AMQP protocol port</span>
</span></span><span style=display:flex><span>    - <span style=color:#e6db74>&#34;15672:15672&#34;</span> <span style=color:#75715e># Management UI port</span>
</span></span><span style=display:flex><span><span style=color:#f92672>environment</span>:
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>RABBITMQ_DEFAULT_USER=$RABBITMQ_USER</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>RABBITMQ_DEFAULT_PASS=$RABBITMQ_PASS</span>
</span></span><span style=display:flex><span><span style=color:#f92672>networks</span>:
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>matlab-network</span>
</span></span></code></pre></div><h3 id=332-environment-variables-env>3.3.2 Environment Variables (<code>.env</code>)<a hidden class=anchor aria-hidden=true href=#332-environment-variables-env>#</a></h3><p>The <code>.env</code> file stores sensitive configuration details, including the RabbitMQ credentials:</p><ul><li><code>RABBITMQ_USER</code>: Specifies the username for accessing the RabbitMQ server (default user is set to <code>teamium</code>).</li><li><code>RABBITMQ_PASS</code>: Sets the password for the RabbitMQ user (default password is set to <code>teamium666</code>).</li></ul><h3 id=333-key-configuration-details>3.3.3 Key Configuration Details<a hidden class=anchor aria-hidden=true href=#333-key-configuration-details>#</a></h3><ul><li><strong>Image:</strong> The <code>rabbitmq:3.13-management</code> image is used, which includes the RabbitMQ server and a management plugin for easy monitoring and administration.</li><li><strong>Hostname:</strong> The hostname is set to <code>rabbitmq</code>, making it easier to reference within the Docker network.</li><li><strong>Ports:</strong><ul><li>5672: The standard AMQP port for client connections.</li><li>15672: The port for accessing the RabbitMQ management interface.</li></ul></li><li><strong>Environment Variables:</strong> The <code>RABBITMQ_DEFAULT_USER</code> and <code>RABBITMQ_DEFAULT_PASS</code> variables are used to set the default credentials for the RabbitMQ server.</li><li><strong>Networking:</strong> The <code>matlab-network</code> bridge network allows the RabbitMQ container to communicate with other containers in the environment.</li></ul><h3 id=334-management-interface>3.3.4 Management Interface<a hidden class=anchor aria-hidden=true href=#334-management-interface>#</a></h3><p>The RabbitMQ management interface, accessible at <code>http://localhost:15672</code>, provides a web-based UI for:</p><ul><li>Monitoring queues, exchanges, and connections.</li><li>Managing users and permissions.</li><li>Viewing message rates and other statistics.</li></ul><h3 id=335-security-considerations>3.3.5 Security Considerations<a hidden class=anchor aria-hidden=true href=#335-security-considerations>#</a></h3><ul><li><strong>Credentials:</strong> The RabbitMQ credentials (<code>RABBITMQ_USER</code> and <code>RABBITMQ_PASS</code>) should be kept confidential, as they grant administrative access to the message broker.</li><li><strong>Network Security:</strong> Consider restricting access to the RabbitMQ management interface and AMQP port to trusted networks or IP addresses.</li><li><strong>TLS:</strong> Enable Transport Layer Security (TLS) to encrypt communication between the API wrapper, MATLAB server, and RabbitMQ.</li></ul><hr><p>Last Modified: <code>=dateformat(this.file.mtime, "DDDD, HH:mm")</code></p><h4 id=tags>Tags:<a hidden class=anchor aria-hidden=true href=#tags>#</a></h4><p><code>=this.file.tags</code></p><pre tabindex=0><code class=language-dataview data-lang=dataview>List FROM #kubernetes
</code></pre></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://tolejarczuk.github.io/>My Digital Garden</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>